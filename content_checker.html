

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  
    <title>Rule content checker - Insights Content Service</title>

    
  

  <link rel="shortcut icon" href="/insights-content-service/favicon.ico" type="image/x-icon">

  <link rel="stylesheet" href="/insights-content-service/assets/css/just-the-docs-default.css">

  

  
  <script type="text/javascript" src="/insights-content-service/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Rule content checker | Insights Content Service</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Rule content checker" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Content Service for Openshift insights remmediations" />
<meta property="og:description" content="Content Service for Openshift insights remmediations" />
<link rel="canonical" href="https://redhatinsights.github.io/insights-content-service/content_checker.html" />
<meta property="og:url" content="https://redhatinsights.github.io/insights-content-service/content_checker.html" />
<meta property="og:site_name" content="Insights Content Service" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Rule content checker" />
<script type="application/ld+json">
{"description":"Content Service for Openshift insights remmediations","url":"https://redhatinsights.github.io/insights-content-service/content_checker.html","@type":"WebPage","headline":"Rule content checker","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->


  

</head>

<body>
  <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
    <symbol id="svg-link" viewBox="0 0 24 24">
      <title>Link</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
        <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
      </svg>
    </symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
      <title>Search</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
        <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </symbol>
    <symbol id="svg-menu" viewBox="0 0 24 24">
      <title>Menu</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
        <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
      </svg>
    </symbol>
    <symbol id="svg-arrow-right" viewBox="0 0 24 24">
      <title>Expand</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
        <polyline points="9 18 15 12 9 6"></polyline>
      </svg>
    </symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
      <title>Document</title>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
        <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
      </svg>
    </symbol>
  </svg>

  <div class="side-bar">
    <div class="site-header">
      <a href="https://redhatinsights.github.io/insights-content-service/" class="site-title lh-tight">
  Insights Content Service

</a>
      <a href="#" id="menu-button" class="site-button">
        <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
      </a>
    </div>
    <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      
        <ul class="nav-list"><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/architecture.html" class="nav-list-link">Architecture</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/sequence_diagram.html" class="nav-list-link">Sequence diagram for Content Service</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/role.html" class="nav-list-link">Role of the service in the external data pipeline</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/rest_api.html" class="nav-list-link">REST API</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/configuration.html" class="nav-list-link">Configuration</a></li><li class="nav-list-item active"><a href="https://redhatinsights.github.io/insights-content-service/content_checker.html" class="nav-list-link active">Rule content checker</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/prometheus.html" class="nav-list-link">Prometheus API</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/testing.html" class="nav-list-link">Testing</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/ci.html" class="nav-list-link">CI</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/contributing.html" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="https://redhatinsights.github.io/insights-content-service/references.html" class="nav-list-link">References</a></li></ul>

      
    </nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
  </div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
      
      
      
        <nav aria-label="Auxiliary" class="aux-nav">
          <ul class="aux-nav-list">
            
              <li class="aux-nav-list-item">
                <a href="https://github.com/RedHatInsights/insights-content-service" class="site-button"
                  
                >
                  Github repository
                </a>
              </li>
            
          </ul>
        </nav>
      
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
      
      <div id="main-content" class="main-content" role="main">
        
          <h1 id="rule-content-checker">
        
        
          <a href="#rule-content-checker" class="anchor-heading" aria-labelledby="rule-content-checker"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rule content checker
        
        
      </h1>
    

<p>A utility for checking the rule content is currently included.</p>

<p><strong>DISCLAIMER</strong>: It may be moved elsewhere in the future.</p>

<p>It helps to ensure that:</p>

<ul>
  <li>tags referenced in the rule content are defined in the group configuration</li>
  <li>rule content attributes and content files are not empty</li>
  <li>every group name is unique</li>
  <li>group tags are unique (within the group)</li>
</ul>

<p>It is necessary to have the rule content available locally in order to run the
tool.</p>

<p>Once you have the rule content and the rule group configuration file, you can
run the checker tool using the following command. Make sure to replace the
placeholders with actual paths. The content directory must be the one containing
the <code class="language-plaintext highlighter-rouge">config.yaml</code> file and the <code class="language-plaintext highlighter-rouge">external</code> directory with content for external
rules. Other rules are not being checked by this tool at the moment.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>go run ./checker/ <span class="nt">-config</span> GROUP_CONFIG_YAML_PATH <span class="nt">-content</span> CONTENT_DIR_PATH
</code></pre></div></div>

<p>After running this command, you should see a report for the given group
configuration file and rule content directory in the terminal.</p>

<p>After checking each error code, a summary is printed containing its tags and a
list of groups to which the individual tags belong. Tags that do not belong to
any defined group are reported as an error and will not be included in this
summary.</p>

        

        

        
        
          <hr>
          <footer>
            

            <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2020 Red Hat, Inc.</a></p>

            
          </footer>
        

      </div>
    </div>

    
  </div>
</body>
</html>

